(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{134:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return r(2288)}])},2288:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return eu}});var a,s,t,o,i,c,l,_,u,m,d=r(5893),p=r(2720),x=r(5409),f=r(7433),h=r(7294),g=r(1163),w=r(7357),C=r(4184),N=r.n(C),j=r(8617),G=r(6649),v=r(8264),y=r(5861),Z=r(6041),P=r(844),B=r.n(P);function E(e){var n=e.reason;return(0,d.jsx)(w.Z,{"data-reason":n||null,className:N()(B().container,B().Empty),children:Z.Z.build.isDev&&n&&(0,d.jsxs)(y.Z,{children:["GameBlock Empty: ",n]})})}var R=r(851),W=r.n(R),S=r(8562),k=r.n(S);function q(e){var n=e.reason;return(0,d.jsx)(w.Z,{"data-reason":n||null,className:N()(k().container,k().Empty),children:Z.Z.build.isDev&&n&&(0,d.jsxs)(y.Z,{children:["GamePlaying Empty: ",n]})})}var T=r(4254),L=r.n(T),D=r(6447);function Q(){var e=(0,G.u9)(),n=(0,G.gC)();return h.useMemo(function(){return{token:e,name:n}},[e,n])}function M(){var e=(0,G.iT)(),n=(0,G.it)();return h.useMemo(function(){return{token:e,name:n}},[e,n])}var Y=r(7189),U=r.n(Y);function b(e){var n=e.className,r=e.self,a=h.useMemo(function(){return r?Q:M},[r])().name,s=(0,G.k5)(),t=h.useMemo(function(){return s&&s.length?s.map(function(e,n){var r=e.id||"Q-"+n;return(0,d.jsx)(w.Z,{id:r,className:N()(U().question)},r)}):null},[s]);return(0,d.jsx)(w.Z,{className:N()(n,U().container,U()[r?"self":"other"]),children:(0,d.jsxs)(w.Z,{className:N()(U().partner),children:[(0,d.jsx)(y.Z,{className:N()(U().name),textAlign:"left",gutterBottom:!0,children:a}),t&&(0,d.jsx)(D.Z,{className:N()(U().questionsBox),flexDirection:"row",flexWrap:"wrap",gap:"6px",children:t})]})})}var K=r(8122),A=r(2033),F=r.n(A);function z(e){var n=e.className,r=(0,G.k5)(),a=(null==r?void 0:r.length)||0,s=r&&r[0],t=null==s?void 0:s.question,o=null==s?void 0:s.answers,i=a&&1/a,c=String(Math.round(100*i))+"%";console.log("[QuestionsCard]",{questions:r,currentQuestionNo:0,currentQuestion:s,questionsCount:a,questionText:t,answers:o,progress:i,percents:c});var l=h.useMemo(function(){return o&&o.length?o.map(function(e,n){var r=e.text,a="A-"+n;return(0,d.jsx)(w.Z,{id:a,className:N()(F().answer,F().answerActive),children:(0,d.jsx)(y.Z,{className:N()(F().answerText),textAlign:"left",children:r})},a)}):null},[o]);return a?(0,d.jsxs)(D.Z,{className:N()(n,F().container),children:[(0,d.jsxs)(D.Z,{className:N()(F().infoRow),flexDirection:"row",my:1,children:[(0,d.jsxs)(y.Z,{textAlign:"left",children:["Вопрос ",1]}),(0,d.jsxs)(y.Z,{textAlign:"right",flex:1,children:["из ",a]})]}),(0,d.jsx)(w.Z,{className:N()(F().progressRow),children:(0,d.jsx)(w.Z,{className:N()(F().progressBar),sx:{width:c}})}),(0,d.jsx)(w.Z,{className:N()(F().questionRow),my:1,mt:2,children:(0,d.jsx)(y.Z,{variant:"h5",children:t})}),(0,d.jsx)(w.Z,{className:N()(F().answersRow),my:1,children:l}),(0,d.jsx)(w.Z,{className:N()(F().actionsRow),my:2,children:(0,d.jsx)(K.Z,{className:"FixMuiButton",variant:"contained",children:(0,d.jsx)("span",{className:"Text",children:"Следующий вопрос / Проверить"})})})]}):null}var O=r(8736),V=r.n(O);function X(e){var n=e.className,r=(0,G.aR)();return(0,d.jsxs)(w.Z,{className:N()(n,V().container),children:[(0,d.jsxs)(D.Z,{className:N()(V().partnersBox),gap:2,children:[(0,d.jsx)(y.Z,{className:N()(V().partnersTitle),variant:"h6",textAlign:"left",children:"Участники"}),"multi"===r&&(0,d.jsx)(b,{}),(0,d.jsx)(b,{self:!0})]}),(0,d.jsx)(w.Z,{className:N()(V().gameBox),children:(0,d.jsx)(z,{className:N()(V().gameBox)})})]})}function I(e){var n=e.className,r=(0,g.useRouter)(),a=(0,G.u9)(),s=(0,G.gC)(),t=(0,G.aR)(),o=(0,G.VF)(),i=(0,G.RP)(),c=(0,G.iT)(),l=(0,G.dn)(),_=(0,G.k5)(),u=!!(a&&s&&o&&l&&_&&("multi"!==t||c));h.useEffect(function(){u||r.push("/waiting")},[r,u]);var m=h.useMemo(function(){return u?i?(0,d.jsx)(X,{}):(0,d.jsx)(q,{reason:"Unknown"}):(0,d.jsx)(q,{reason:"Not ready"})},[u,i]);return(0,d.jsx)(w.Z,{className:N()(n,L().container),children:m})}var H=r(8356),J=r(1799),$=r(9396),ee=r(215),en=r(2171),er=r(542),ea=r.n(er),es=r(5713),et=r.n(es);(0,H.qC)((s=(a={errorClassName:et().error,wrapperClassName:et().wrapper}).wrapperClassName,t=a.errorClassName,i=void 0===(o=a.showErrorInWrapper)||o,function(e){return function(n){var r=(0,ee.tP)(),a=(0,ee.lO)(),o=(0,ee.YH)(),c=(0,ee.X4)()||a,l=(0,ee.Nc)(),_=(0,ee.RP)(),u=(0,g.useRouter)(),m=h.useCallback(function(){u.push("/")},[u]);return(0,d.jsxs)("div",{className:N()(s,ea().container),children:[i&&c&&(0,d.jsxs)(w.Z,{className:N()(ea().contentErrorContainer),m:2,children:[(0,d.jsx)(y.Z,{className:N()(t,ea().contentError),m:2,children:(0,en.VK)(c)}),(0,d.jsx)(D.Z,{className:ea().actions,spacing:2,direction:"row",m:2,justifyContent:"center",children:(0,d.jsx)(K.Z,{className:"FixMuiButton",onClick:m,variant:"contained",children:(0,d.jsx)("span",{className:"Text",children:"Начать сначала"})})})]}),!r&&(0,d.jsx)("div",{className:ea().contentContainer,children:(0,d.jsx)(e,(0,$.Z)((0,J.Z)({},n),{error:c,isLoading:o,isFinished:l,isPlaying:_}))}),(0,d.jsx)(x.uY,{className:ea().smallLoader,spinnerSize:"medium",show:o&&_}),(0,d.jsx)(x.uY,{className:ea().loaderSplash,show:o&&!_,spinnerSize:"large",bg:"white",mode:"cover",fullSize:!0})]})}}))(I);var eo=r(7485),ei=r.n(eo),ec=r(5303),el=r.n(ec),e_=(0,H.qC)((l=(c={errorClassName:el().error,wrapperClassName:el().wrapper}).wrapperClassName,_=c.errorClassName,m=void 0===(u=c.showErrorInWrapper)||u,function(e){return function(n){var r=(0,ee.tP)(),a=(0,ee.lO)(),s=(0,ee.YH)(),t=(0,ee.X4)(),o=(0,ee.Vh)(),i=(0,ee.QT)(),c=r||s||o,u=t||a||i,p=(0,ee.Nc)(),f=(0,ee.RP)(),C=(0,g.useRouter)(),j=h.useCallback(function(){C.push("/")},[C]);return(0,d.jsxs)("div",{className:N()(l,ei().container),children:[m&&u&&(0,d.jsxs)(w.Z,{className:N()(ei().contentErrorContainer),m:2,children:[(0,d.jsx)(y.Z,{className:N()(_,ei().contentError),m:2,children:(0,en.VK)(u)}),(0,d.jsx)(D.Z,{className:ei().actions,spacing:2,direction:"row",m:2,justifyContent:"center",children:(0,d.jsx)(K.Z,{className:"FixMuiButton",onClick:j,variant:"contained",children:(0,d.jsx)("span",{className:"Text",children:"Начать сначала"})})})]}),!r&&(0,d.jsx)(w.Z,{className:ei().contentContainer,children:(0,d.jsx)(e,(0,$.Z)((0,J.Z)({},n),{error:u,isLoading:c,gameSessionIsFinished:p,gameSessionIsPlaying:f}))}),(0,d.jsx)(x.uY,{className:ei().smallLoader,spinnerSize:"medium",show:c&&f}),(0,d.jsx)(x.uY,{className:ei().loaderSplash,show:c&&!f,spinnerSize:"large",bg:"white",mode:"cover",fullSize:!0})]})}}))(function(e){var n=e.className,r=(0,G.TL)(),a=(0,g.useRouter)(),s=(0,G.u9)(),t=(0,G.gC)(),o=(0,G.aR)(),i=(0,G.VF)(),c=(0,G.RP)(),l=(0,G.iT)(),_=(0,G.dn)(),u=(0,G.k5)(),m=!!(s&&t&&i),p=!!(m&&_&&u&&("multi"!==o||l));h.useEffect(function(){m&&r((0,j.P)())},[m,r]),h.useEffect(function(){m&&!p&&r((0,v.fZ)())},[m,p,r]),h.useEffect(function(){m||a.push("/waiting")},[a,m]);var x=h.useMemo(function(){return p?c?(0,d.jsx)(I,{}):(0,d.jsx)(E,{reason:"Unknown"}):(0,d.jsx)(E,{reason:"Not ready"})},[p,c]);return(0,d.jsx)(w.Z,{className:N()(n,W().container),my:2,flexDirection:"row",children:x})}),eu=function(){var e=(0,f.d)("Игра");return(0,d.jsx)(p.Z,{title:e,children:(0,d.jsx)(x.ip,{flex:!0,flexVertical:!0,fullSizeFlexChild:!0,flexCenter:!0,children:(0,d.jsx)(e_,{})})})}},8736:function(e){e.exports={container:"GameLayout_container__a9RxR",box:"GameLayout_box__2JorJ",partnersBox:"GameLayout_partnersBox__sKL6r",gameBox:"GameLayout_gameBox__YQH2L",DEBUG:"GameLayout_DEBUG__44p6d"}},4254:function(e){e.exports={container:"GamePlaying_container__8SLk7"}},8562:function(e){e.exports={container:"GamePlayingContent_container__aSnwj",Empty:"GamePlayingContent_Empty__U0pPk",WaitingMulti:"GamePlayingContent_WaitingMulti__UKIn8",WaitingSingle:"GamePlayingContent_WaitingSingle__ofYKC",WaitingFailed:"GamePlayingContent_WaitingFailed__eTXf9",WasCancelled:"GamePlayingContent_WasCancelled__MfhlT",GameReady:"GamePlayingContent_GameReady__lOmat",WaitingStart:"GamePlayingContent_WaitingStart__YaWyM",DEBUG:"GamePlayingContent_DEBUG__wFybG",error:"GamePlayingContent_error__nWi_M",actions:"GamePlayingContent_actions__fvFCS"}},5713:function(e){e.exports={error:"WrappedGamePlaying_error__X2EPd",wrapper:"WrappedGamePlaying_wrapper__YSwgS"}},7189:function(e){e.exports={container:"Partner_container__rAS5t",self:"Partner_self__592Ry",other:"Partner_other__3_ouq",question:"Partner_question__LRcnT",questionsBox:"Partner_questionsBox__AV0_v",DEBUG:"Partner_DEBUG__Lv99n",questionCorrect:"Partner_questionCorrect__NKwdH",questionWrong:"Partner_questionWrong__qKUbS"}},2033:function(e){e.exports={container:"QuestionsCard_container__2lWSZ",infoRow:"QuestionsCard_infoRow__vSNhD",progressRow:"QuestionsCard_progressRow__Y7G4Y",questionRow:"QuestionsCard_questionRow__xKYGg",answersRow:"QuestionsCard_answersRow__mg5yR",actionsRow:"QuestionsCard_actionsRow__Yqp0R",DEBUG:"QuestionsCard_DEBUG__E8uoT",progressBar:"QuestionsCard_progressBar__aZZ3b",answer:"QuestionsCard_answer__33R_Y",answerCorrect:"QuestionsCard_answerCorrect__4JKNB",answerWrong:"QuestionsCard_answerWrong__9_LCO",answerText:"QuestionsCard_answerText__heme_",answerActive:"QuestionsCard_answerActive__OKuD6"}},851:function(e){e.exports={container:"GameBlock_container__6ajde"}},844:function(e){e.exports={container:"GameBlockContent_container__x3Jwv",Empty:"GameBlockContent_Empty__Kfu40",GameReady:"GameBlockContent_GameReady__jV5t8",DEBUG:"GameBlockContent_DEBUG__vBGKd",error:"GameBlockContent_error__fsdHU",actions:"GameBlockContent_actions__ohim0"}},5303:function(e){e.exports={error:"WrappedGameBlock_error__6n7kx",wrapper:"WrappedGameBlock_wrapper__KbOID"}},7485:function(e){e.exports={container:"GamePlayingWrapper_container__c_kTA",contentError:"GamePlayingWrapper_contentError__dhYPs",contentContainer:"GamePlayingWrapper_contentContainer__xlavK",smallLoader:"GamePlayingWrapper_smallLoader__mYf3r",loaderSplash:"GamePlayingWrapper_loaderSplash__qFtCz"}},542:function(e){e.exports={container:"GameSessionWrapper_container__aDk9O",contentError:"GameSessionWrapper_contentError__ATjRz",contentContainer:"GameSessionWrapper_contentContainer__9ZWe_",smallLoader:"GameSessionWrapper_smallLoader__MetXT",loaderSplash:"GameSessionWrapper_loaderSplash__61cgZ"}}},function(e){e.O(0,[509,12,390,705,774,888,179],function(){return e(e.s=134)}),_N_E=e.O()}]);
//# sourceMappingURL=game-b90c6436a3fb3711.js.map