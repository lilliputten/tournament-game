(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6625)}])},6625:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return ee}});var a,t,s,o,i,l,c=n(5893),u=n(7294),m=n(7694),d=n(6493),p=n(6333),_=n(7568),h=n(655),f=n(7236),x=n(6041),N=n(4347);function j(){return(j=(0,_.Z)(function(e){var r,n,a;return(0,h.__generator)(this,function(t){return r="POST",n=x.Z.api.apiUrlPrefix+"/setName",a={name:e.name},[2,(0,N.i)({url:n,method:r,data:a}).then(function(e){var r=e.Token,n=e.success,a=e.error;if(!n||a)throw Error(a||"Операция завершена с неопределённой ошибкой");if(!r)throw Error("Не получен токен сессии!");return{token:r}}).catch(function(t){var s=Error("Ошибка сохранения имени: "+t.message);throw console.error("[postSetName]: request catch",{error:t,queryData:a,params:e,method:r,url:n}),s})]})})).apply(this,arguments)}(0,f.hg)("articles/postSetNameThunk",(a=(0,_.Z)(function(e){return(0,h.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e){return j.apply(this,arguments)}(e)];case 1:return[2,r.sent()]}})}),function(e){return a.apply(this,arguments)}));var C=n(2720),Z=n(5409),k=n(7433),w=n(603),g=n(1163),S=n(8122),b=n(6863),v=n(7357),T=n(5861),E=n(4184),P=n.n(E),B=n(657),G=n(6447),W=n(8557),M=n(594),q=n(7036),D=n(99),F=n(7558),y=n.n(F);function O(e){var r=e.className,n=e.onClose,a=e.onSubmit,t=e.name,s=e.open,o=(0,w.Z)(u.useState(t),2),i=o[0],l=o[1],m=u.useCallback(function(e){l(e.currentTarget.value)},[]),d=u.useCallback(function(){a(i)},[i,a]),p=u.useCallback(function(e){null==e||e.preventDefault(),d()},[d]);return(0,c.jsxs)(B.Z,{className:P()(r,y().container),onClose:n,open:s,children:[(0,c.jsx)(W.Z,{className:y().dialogTitle,children:"Выбрать имя"}),(0,c.jsx)(v.Z,{m:3,children:(0,c.jsx)("form",{className:y().form,onSubmit:p,children:(0,c.jsxs)(G.Z,{direction:"column",spacing:3,children:[(0,c.jsx)(G.Z,{direction:"row",spacing:2,children:(0,c.jsx)(D.Z,{id:"name",label:"Имя",variant:"filled",defaultValue:t,onChange:m,autoFocus:!0,fullWidth:!0})}),(0,c.jsxs)(G.Z,{direction:"row",spacing:2,children:[(0,c.jsx)(S.Z,{className:"FixMuiButton",disabled:!i,onClick:d,variant:"contained",startIcon:(0,c.jsx)(q.Z,{}),children:(0,c.jsx)("span",{className:"Text",children:"Продолжить"})}),(0,c.jsx)(S.Z,{className:"FixMuiButton",onClick:n,variant:"outlined",startIcon:(0,c.jsx)(M.Z,{}),children:(0,c.jsx)("span",{className:"Text",children:"Отменить"})})]})]})})})]})}var L=n(6649),X=n(9280),I=n(8837),Q=n.n(I),U=n(8356),K=n(1799),V=n(9396),Y=n(215),z=n(2171),H=n(1067),R=n.n(H),A=n(7081),J=n.n(A),$=(0,U.qC)((s=(t={errorClassName:J().error,wrapperClassName:J().wrapper}).wrapperClassName,o=t.errorClassName,l=void 0===(i=t.showErrorInWrapper)||i,function(e){return function(r){var n=(0,Y.tP)(),a=(0,Y.lO)();return(0,c.jsxs)("div",{className:P()(s,R().container),children:[l&&a&&(0,c.jsx)(T.Z,{className:P()(o,R().contentError),children:(0,z.VK)(a)}),(0,c.jsx)("div",{className:R().contentContainer,children:(0,c.jsx)(e,(0,V.Z)((0,K.Z)({},r),{error:a,isLoading:n}))}),n&&(0,c.jsx)(Z.uY,{className:R().smallLoader,spinnerSize:"medium",show:!0})]})}}))(function(e){var r=e.className,n=(0,L.TL)(),a=(0,g.useRouter)(),t=(0,L.tP)(),s=(0,L.GS)(),o=(0,L.u9)(),i=(0,L.gC)(),l=(0,w.Z)(u.useState(!1),2),m=l[0],d=l[1],p=u.useCallback(function(){d(!1)},[]),_=u.useCallback(function(e){p(),n(X.Nw.setUserName(e)),a.push("/waiting")},[n,a,p]),h=u.useCallback(function(){n(X.Nw.setGameMode("single")),d(!0)},[n]),f=u.useCallback(function(){n(X.Nw.setGameMode("multi")),d(!0)},[n]);return o?(0,c.jsxs)(v.Z,{className:P()(r,Q().container),children:[(0,c.jsx)(T.Z,{variant:"h5",className:P()(Q().title),children:"Турнир по теме \xabЧто проверить в договорах\xbb"}),!t&&s&&o&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(T.Z,{className:P()(Q().question),children:"Как вы хотите сыграть?"}),(0,c.jsxs)(b.Z,{className:P()(Q().actions),variant:"outlined","aria-label":"outlined primary button group",children:[(0,c.jsx)(S.Z,{className:"FixMuiButton",onClick:h,children:(0,c.jsx)("span",{className:"Text",children:"Турнир для одного"})}),(0,c.jsx)(S.Z,{className:"FixMuiButton",onClick:f,children:(0,c.jsx)("span",{className:"Text",children:"Турнир для двоих"})})]})]}),(0,c.jsx)(O,{name:i||"",open:m,onClose:p,onSubmit:_})]}):null}),ee=function(){var e=(0,k.d)("Стартовая страница"),r=(0,m.T)(),n=(0,d.Y)(),a=(0,L.u9)(),t=(0,L.GS)();return u.useEffect(function(){!a&&t&&(0,p.DM)(n)},[r,n,a]),(0,c.jsx)(C.Z,{title:e,children:(0,c.jsx)(Z.ip,{flex:!0,flexVertical:!0,fullSizeFlexChild:!0,flexCenter:!0,children:(0,c.jsx)($,{})})})}},8837:function(e){e.exports={container:"StartBlock_container__oZuED",actions:"StartBlock_actions__BM_KP",question:"StartBlock_question__wSXMI",title:"StartBlock_title__bQkon",error:"StartBlock_error__QD1tQ"}},7081:function(e){e.exports={error:"WrappedStartBlock_error__SYdEX",wrapper:"WrappedStartBlock_wrapper__EOXfs"}},7558:function(e){e.exports={form:"UserNameDialog_form__W6gqc",dialogTitle:"UserNameDialog_dialogTitle__ue4w_"}},1067:function(e){e.exports={container:"GameParamsWrapper_container__9iO24",contentError:"GameParamsWrapper_contentError__gKQ2H",contentContainer:"GameParamsWrapper_contentContainer__dyZPT",smallLoader:"GameParamsWrapper_smallLoader__HcgG3",loaderSplash:"GameParamsWrapper_loaderSplash__n5GhT"}}},function(e){e.O(0,[509,12,391,390,705,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
//# sourceMappingURL=index-1dc0349a97cecd8b.js.map