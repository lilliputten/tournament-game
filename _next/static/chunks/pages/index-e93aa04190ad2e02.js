(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6625)}])},6625:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return er}});var a,t,s,o,i,c,l=n(5893),u=n(7294),m=n(7694),d=n(6493),p=n(6333),_=n(7568),f=n(655),h=n(7236),x=n(6041),N=n(4347);function j(){return(j=(0,_.Z)(function(e){var r,n,a;return(0,f.__generator)(this,function(t){return r="POST",n=x.Z.api.apiUrlPrefix+"/setName",a={name:e.name},[2,(0,N.i)({url:n,method:r,data:a}).then(function(e){var r=e.Token,n=e.success,a=e.error;if(!n||a)throw Error(a||"Операция завершена с неопределённой ошибкой");if(!r)throw Error("Не получен токен сессии!");return{token:r}}).catch(function(t){var s=Error("Ошибка сохранения имени: "+t.message);throw console.error("[postSetName]: request catch",{error:t,queryData:a,params:e,method:r,url:n}),s})]})})).apply(this,arguments)}(0,h.hg)("articles/postSetNameThunk",(a=(0,_.Z)(function(e){return(0,f.__generator)(this,function(r){switch(r.label){case 0:return[4,function(e){return j.apply(this,arguments)}(e)];case 1:return[2,r.sent()]}})}),function(e){return a.apply(this,arguments)}));var C=n(7925),Z=n(2720),k=n(5409),w=n(7433),g=n(603),S=n(1163),b=n(8122),v=n(6863),E=n(7357),T=n(5861),B=n(4184),P=n.n(B),G=n(657),W=n(6447),M=n(8557),D=n(594),q=n(7036),F=n(99),y=n(7558),O=n.n(y);function L(e){var r=e.className,n=e.onClose,a=e.onSubmit,t=e.name,s=e.open,o=(0,g.Z)(u.useState(t),2),i=o[0],c=o[1],m=u.useCallback(function(e){c(e.currentTarget.value)},[]),d=u.useCallback(function(){a(i)},[i,a]),p=u.useCallback(function(e){null==e||e.preventDefault(),d()},[d]);return(0,l.jsxs)(G.Z,{className:P()(r,O().container),onClose:n,open:s,children:[(0,l.jsx)(M.Z,{className:O().dialogTitle,children:"Выбрать имя"}),(0,l.jsx)(E.Z,{m:3,children:(0,l.jsx)("form",{className:O().form,onSubmit:p,children:(0,l.jsxs)(W.Z,{direction:"column",spacing:3,children:[(0,l.jsx)(W.Z,{direction:"row",spacing:2,children:(0,l.jsx)(F.Z,{id:"name",label:"Имя",variant:"filled",defaultValue:t,onChange:m,autoFocus:!0,fullWidth:!0})}),(0,l.jsxs)(W.Z,{direction:"row",spacing:2,children:[(0,l.jsx)(b.Z,{className:"FixMuiButton",disabled:!i,onClick:d,variant:"contained",startIcon:(0,l.jsx)(q.Z,{}),children:(0,l.jsx)("span",{className:"Text",children:"Продолжить"})}),(0,l.jsx)(b.Z,{className:"FixMuiButton",onClick:n,variant:"outlined",startIcon:(0,l.jsx)(D.Z,{}),children:(0,l.jsx)("span",{className:"Text",children:"Отменить"})})]})]})})})]})}var X=n(6649),I=n(9280),K=n(8837),Q=n.n(K),U=n(8356),V=n(1799),Y=n(9396),z=n(2171),H=n(215),A=n(1067),R=n.n(A),J=n(7081),$=n.n(J),ee=(0,U.qC)((s=(t={errorClassName:$().error,wrapperClassName:$().wrapper}).wrapperClassName,o=t.errorClassName,c=void 0===(i=t.showErrorInWrapper)||i,function(e){return function(r){var n=(0,H.tP)(),a=(0,H.lO)();return u.useEffect(function(){a&&k.Am.error((0,z.VK)(a))},[a]),(0,l.jsxs)("div",{className:P()(s,R().container),children:[c&&a&&(0,l.jsx)(T.Z,{className:P()(o,R().contentError),children:(0,z.VK)(a)}),(0,l.jsx)("div",{className:R().contentContainer,children:(0,l.jsx)(e,(0,Y.Z)((0,V.Z)({},r),{error:a,isLoading:n}))}),n&&(0,l.jsx)(k.uY,{className:R().smallLoader,spinnerSize:"medium",show:!0})]})}}))(function(e){var r=e.className,n=(0,X.TL)(),a=(0,S.useRouter)(),t=(0,X.tP)(),s=(0,X.GS)(),o=(0,X.u9)(),i=(0,X.gC)(),c=(0,g.Z)(u.useState(!1),2),m=c[0],d=c[1],p=u.useCallback(function(){d(!1)},[]),_=u.useCallback(function(e){p(),n(I.Nw.setUserName(e)),a.push("/waiting")},[n,a,p]),f=u.useCallback(function(){n(I.Nw.setGameMode("single")),d(!0)},[n]),h=u.useCallback(function(){n(I.Nw.setGameMode("multi")),d(!0)},[n]);return o?(0,l.jsxs)(E.Z,{className:P()(r,Q().container),children:[(0,l.jsx)(T.Z,{variant:"h5",className:P()(Q().title),gutterBottom:!0,children:"Турнир по теме \xabЧто проверить в договорах\xbb"}),!t&&s&&o&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(T.Z,{className:P()(Q().question),gutterBottom:!0,children:"Как вы хотите сыграть?"}),(0,l.jsxs)(v.Z,{className:P()(Q().actions),variant:"outlined","aria-label":"outlined primary button group",children:[(0,l.jsx)(b.Z,{className:"FixMuiButton",onClick:f,children:(0,l.jsx)("span",{className:"Text",children:"Турнир для одного"})}),(0,l.jsx)(b.Z,{className:"FixMuiButton",onClick:h,children:(0,l.jsx)("span",{className:"Text",children:"Турнир для двоих"})})]})]}),(0,l.jsx)(L,{name:i||"",open:m,onClose:p,onSubmit:_})]}):null}),er=function(){var e=(0,w.d)("Стартовая страница"),r=(0,m.T)(),n=(0,d.Y)(),a=(0,X.u9)(),t=(0,X.GS)();return u.useEffect(function(){r(C.Nw.resetData())},[r]),u.useEffect(function(){!a&&t&&(0,p.DM)(n)},[r,n,a]),(0,l.jsx)(Z.Z,{title:e,children:(0,l.jsx)(k.ip,{flex:!0,flexVertical:!0,fullSizeFlexChild:!0,flexCenter:!0,children:(0,l.jsx)(ee,{})})})}},8837:function(e){e.exports={container:"StartBlock_container__oZuED",actions:"StartBlock_actions__BM_KP",question:"StartBlock_question__wSXMI",title:"StartBlock_title__bQkon",error:"StartBlock_error__QD1tQ"}},7081:function(e){e.exports={error:"WrappedStartBlock_error__SYdEX",wrapper:"WrappedStartBlock_wrapper__EOXfs"}},7558:function(e){e.exports={form:"UserNameDialog_form__W6gqc",dialogTitle:"UserNameDialog_dialogTitle__ue4w_"}},1067:function(e){e.exports={container:"GameParamsWrapper_container__9iO24",contentError:"GameParamsWrapper_contentError__gKQ2H",contentContainer:"GameParamsWrapper_contentContainer__dyZPT",smallLoader:"GameParamsWrapper_smallLoader__HcgG3",loaderSplash:"GameParamsWrapper_loaderSplash__n5GhT"}}},function(e){e.O(0,[911,766,391,390,705,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);
//# sourceMappingURL=index-e93aa04190ad2e02.js.map