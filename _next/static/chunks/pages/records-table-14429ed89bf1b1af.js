(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[431],{9211:function(e,n,t){"use strict";t.d(n,{Z:function(){return R}});var l=t(3366),a=t(7462),o=t(7294),r=t(6010),c=t(9766),s=t(4780),i=t(4867),d=t(182);let u=(0,d.ZP)();var b=t(5149),m=t(9707),f=t(6500),_=t(5408),x=t(8700),h=t(5893);let p=["component","direction","spacing","divider","children","className"],k=(0,f.Z)(),j=u("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,n)=>n.root});function N(e){return(0,b.Z)({props:e,name:"MuiStack",defaultTheme:k})}let T=e=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[e],v=({ownerState:e,theme:n})=>{let t=(0,a.Z)({display:"flex",flexDirection:"column"},(0,_.k9)({theme:n},(0,_.P$)({values:e.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(e.spacing){let l=(0,x.hB)(n),a=Object.keys(n.breakpoints.values).reduce((n,t)=>(("object"==typeof e.spacing&&null!=e.spacing[t]||"object"==typeof e.direction&&null!=e.direction[t])&&(n[t]=!0),n),{}),o=(0,_.P$)({values:e.direction,base:a}),r=(0,_.P$)({values:e.spacing,base:a});"object"==typeof o&&Object.keys(o).forEach((e,n,t)=>{let l=o[e];if(!l){let l=n>0?o[t[n-1]]:"column";o[e]=l}});let s=(n,t)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${T(t?o[t]:e.direction)}`]:(0,x.NA)(l,n)}});t=(0,c.Z)(t,(0,_.k9)({theme:n},r,s))}return(0,_.dt)(n.breakpoints,t)},C=function(e={}){let{createStyledComponent:n=j,useThemeProps:t=N,componentName:c="MuiStack"}=e,d=()=>(0,s.Z)({root:["root"]},e=>(0,i.Z)(c,e),{}),u=n(v),b=o.forwardRef(function(e,n){let c=t(e),s=(0,m.Z)(c),{component:i="div",direction:b="column",spacing:f=0,divider:_,children:x,className:k}=s,j=(0,l.Z)(s,p),N=d();return(0,h.jsx)(u,(0,a.Z)({as:i,ownerState:{direction:b,spacing:f},ref:n,className:(0,r.Z)(N.root,k)},j,{children:_?function(e,n){let t=o.Children.toArray(e).filter(Boolean);return t.reduce((e,l,a)=>(e.push(l),a<t.length-1&&e.push(o.cloneElement(n,{key:`separator-${a}`})),e),[])}(x,_):x}))});return b}();var R=C},5028:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/records-table",function(){return t(5647)}])},5647:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Z}});var l=t(5893),a=t(2720),o=t(5409),r=t(7433),c=t(7294),s=t(1163),i=t(7357),d=t(4184),u=t.n(d),b=t(6322),m=t(99),f=t.n(m),_=t(6327),x=t(8122),h=t(5861),p=t(9211),k=t(6041),j=t(2171),N=t(457),T=t.n(N);function v(e){var n=e.reason;return(0,l.jsx)(i.Z,{"data-reason":n||null,className:u()(T().container,T().Empty),children:k.Z.build.isDev&&n&&(0,l.jsxs)(h.Z,{children:["WatingBlock Empty: ",n]})})}function C(e){var n=e.gameRecord,t=e.idx,a=n.Token,o=n.partnersInfo,r=n.startedTimestamp,c=n.winnerToken,s=c&&o&&o[c],i=s&&s.name||void 0,d=s&&s.questionAnswers||void 0,b=d&&Object.values(d).reduce(function(e,n){return"correct"===n?e+1:e},0),m=s&&s.finishedTimestamp||void 0,f=(0,j.pI)(r,m);return(0,l.jsxs)("tr",{id:a,className:u()(T().tableRow),children:[(0,l.jsx)("td",{className:u()(T().tableCell,T().cellNo),children:t+1}),(0,l.jsx)("td",{className:u()(T().tableCell,T().cellName),children:i}),(0,l.jsx)("td",{className:u()(T().tableCell,T().cellTime),children:f}),(0,l.jsx)("td",{className:u()(T().tableCell,T().cellAnswers),children:b})]})}function R(e){var n=e.recordsTable.map(function(e,n){return(0,l.jsx)(C,{idx:n,gameRecord:e},e.Token)});return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("table",{className:T().table,cellPadding:4,cellSpacing:2,border:0,children:[(0,l.jsxs)("thead",{className:T().tableHeadRow,children:[(0,l.jsx)("td",{className:u()(T().tableHead,T().cellNo),children:"Место"}),(0,l.jsx)("td",{className:u()(T().tableHead,T().cellName),children:"Игрок"}),(0,l.jsx)("td",{className:u()(T().tableHead,T().cellTime),children:"Время"}),(0,l.jsx)("td",{className:u()(T().tableHead,T().cellAnswers),children:"Верных ответов"})]}),(0,l.jsx)("tbody",{className:T().tableBody,children:n})]})})}function g(e){var n=e.onClick,t=e.goToStartPage,a=e.recordsTable;return(0,l.jsxs)(i.Z,{className:u()(T().container,T().WaitingFailed),children:[a&&(0,l.jsx)(R,{recordsTable:a}),(0,l.jsxs)(p.Z,{className:T().actions,spacing:2,direction:"row",justifyContent:"center",my:2,mt:4,children:[!!t&&(0,l.jsx)(x.Z,{className:"FixMuiButton",onClick:t,variant:"contained",children:(0,l.jsx)("span",{className:"Text",children:"Сыграть ещё раз"})}),!!n&&(0,l.jsx)(x.Z,{className:"FixMuiButton",onClick:n,disabled:!n,children:(0,l.jsx)("span",{className:"Text",children:"Посмотреть результаты"})})]})]})}function B(e){var n=e.className,t=(0,b.TL)(),a=(0,s.useRouter)(),o=(0,b.u9)(),r=(0,b.gC)(),d=(0,b.w3)(),m=!!(r&&o),x=c.useCallback(function(){a.push("/")},[a]);c.useEffect(function(){m||x()},[x,m]),c.useEffect(function(){m&&t((0,_.K)())},[m,t]);var h=c.useCallback(function(){a.push("/results")},[a]),p=c.useMemo(function(){return m?(0,l.jsx)(g,{onClick:h,goToStartPage:x,token:o,recordsTable:d}):(0,l.jsx)(v,{reason:"Not ready"})},[m,h,x,o,d]);return(0,l.jsx)(i.Z,{className:u()(n,f().container),my:2,children:p})}var y=t(1046),w=t.n(y),Z=function(){var e=(0,r.d)("Результаты");return(0,l.jsx)(a.Z,{className:w().root,title:e,children:(0,l.jsx)(o.ip,{flex:!0,flexVertical:!0,fullSizeFlexChild:!0,flexCenter:!0,children:(0,l.jsx)(B,{})})})}},99:function(e){e.exports={container:"RecordsTableBlock_container__ldFJX"}},457:function(e){e.exports={container:"RecordsTableBlockContent_container__nHyRB",Empty:"RecordsTableBlockContent_Empty__KjAeo",DEBUG:"RecordsTableBlockContent_DEBUG__hC6cc",error:"RecordsTableBlockContent_error__u5eqa",actions:"RecordsTableBlockContent_actions__oSbk9",tableHead:"RecordsTableBlockContent_tableHead__L86nq",tableHeadRow:"RecordsTableBlockContent_tableHeadRow__aOgmx",tableBody:"RecordsTableBlockContent_tableBody__PomMv",tableRow:"RecordsTableBlockContent_tableRow__iTdYp",tableCell:"RecordsTableBlockContent_tableCell__lhgi9",table:"RecordsTableBlockContent_table__97c0y"}},1046:function(e){e.exports={root:"RecordsTablePage_root__BMj0_"}}},function(e){e.O(0,[911,259,390,674,774,888,179],function(){return e(e.s=5028)}),_N_E=e.O()}]);
//# sourceMappingURL=records-table-14429ed89bf1b1af.js.map