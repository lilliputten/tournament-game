(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[440],{2329:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/waiting",function(){return r(4593)}])},6927:function(n,e,r){"use strict";r.d(e,{Io:function(){return a.I},TL:function(){return i.T},aR:function(){return t.aR},tP:function(){return t.tP},u9:function(){return t.u9},gC:function(){return t.gC},Rb:function(){return t.Rb},YH:function(){return t.YH},Vp:function(){return t.Vp},me:function(){return t.me}});var t=r(9337);r(6493);var i=r(7694);r(9902);var a=r(4347)},4593:function(n,e,r){"use strict";r.r(e),r.d(e,{default:function(){return nl}});var t,i,a,o,s,c=r(5893),l=r(2720),u=r(5409),d=r(7433),m=r(603),p=r(7294),f=r(1248),x=r(1163),h=r(8122),g=r(7357),j=r(5861),v=r(4184),_=r.n(v),N=r(6041),k=r(6927),Z=r(9280),C=r(3366),w=r(7462),S=r(6010),W=r(9766),b=r(4780),B=r(4867),T=r(182);let y=(0,T.ZP)();var E=r(5149),R=r(9707),F=r(6500),M=r(5408),P=r(8700);let V=["component","direction","spacing","divider","children","className"],L=(0,F.Z)(),O=y("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>e.root});function z(n){return(0,E.Z)({props:n,name:"MuiStack",defaultTheme:L})}let G=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Y=({ownerState:n,theme:e})=>{let r=(0,w.Z)({display:"flex",flexDirection:"column"},(0,M.k9)({theme:e},(0,M.P$)({values:n.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n})));if(n.spacing){let t=(0,P.hB)(e),i=Object.keys(e.breakpoints.values).reduce((e,r)=>(("object"==typeof n.spacing&&null!=n.spacing[r]||"object"==typeof n.direction&&null!=n.direction[r])&&(e[r]=!0),e),{}),a=(0,M.P$)({values:n.direction,base:i}),o=(0,M.P$)({values:n.spacing,base:i});"object"==typeof a&&Object.keys(a).forEach((n,e,r)=>{let t=a[n];if(!t){let t=e>0?a[r[e-1]]:"column";a[n]=t}});let s=(e,r)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${G(r?a[r]:n.direction)}`]:(0,P.NA)(t,e)}});r=(0,W.Z)(r,(0,M.k9)({theme:e},o,s))}return(0,M.dt)(e.breakpoints,r)},I=function(n={}){let{createStyledComponent:e=O,useThemeProps:r=z,componentName:t="MuiStack"}=n,i=()=>(0,b.Z)({root:["root"]},n=>(0,B.Z)(t,n),{}),a=e(Y),o=p.forwardRef(function(n,e){let t=r(n),o=(0,R.Z)(t),{component:s="div",direction:l="column",spacing:u=0,divider:d,children:m,className:f}=o,x=(0,C.Z)(o,V),h=i();return(0,c.jsx)(a,(0,w.Z)({as:s,ownerState:{direction:l,spacing:u},ref:e,className:(0,S.Z)(h.root,f)},x,{children:d?function(n,e){let r=p.Children.toArray(n).filter(Boolean);return r.reduce((n,t,i)=>(n.push(t),i<r.length-1&&n.push(p.cloneElement(e,{key:`separator-${i}`})),n),[])}(m,d):m}))});return o}();var X=r(5371),$=r(7506),D=r.n($);function H(n){var e=n.cancelWaiting,r=n.isWaiting;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Ищем соперника"}),(0,c.jsx)(j.Z,{variant:"body1",gutterBottom:!0,children:"Это может занять несколько минут."}),(0,c.jsx)(I,{className:D().actions,spacing:2,direction:"row",children:r&&!!e&&(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:e,variant:"contained",children:(0,c.jsx)("span",{className:"Text",children:"Отменить"})})})]})}function A(n){var e=n.cancelWaiting,r=n.isWaiting;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Запуск игры"}),(0,c.jsx)(I,{className:D().actions,spacing:2,direction:"row",children:r&&!!e&&(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:e,variant:"contained",children:(0,c.jsx)("span",{className:"Text",children:"Отменить"})})})]})}function K(n){var e=n.onSingleClick,r=n.goToStartPage;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Похоже, сейчас нет подходщих соперников"}),(0,c.jsx)(j.Z,{variant:"body1",gutterBottom:!0,children:"Вы можете сыграть самостоятельно и подняться в рейтинге"}),(0,c.jsxs)(I,{className:D().actions,spacing:2,direction:"row",children:[!!e&&(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:e,variant:"contained",children:(0,c.jsx)("span",{className:"Text",children:"Турнир для одного"})}),!!r&&(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:r,children:(0,c.jsx)("span",{className:"Text",children:"Начать сначала"})})]})]})}function q(n){var e=n.goToStartPage;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Старт игры был отменён"}),(0,c.jsx)(I,{className:D().actions,spacing:2,direction:"row",children:!!e&&(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:e,variant:"contained",children:(0,c.jsx)("span",{className:"Text",children:"Начать сначала"})})})]})}function Q(){return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(j.Z,{variant:"h5",gutterBottom:!0,children:"Игра готова"})})}var J=r(8356),U=r(1799),nn=r(9396),ne=r(9337),nr=r(2171),nt=r(6447),ni=r(542),na=r.n(ni),no=r(3611),ns=r.n(no),nc=(0,J.qC)((i=(t={errorClassName:ns().error,wrapperClassName:ns().wrapper}).wrapperClassName,a=t.errorClassName,s=void 0===(o=t.showErrorInWrapper)||o,function(n){return function(e){var r=(0,ne.tP)(),t=(0,ne.lO)(),o=(0,ne.YH)(),l=(0,ne.X4)()||t,d=(0,ne.me)(),m=(0,ne.Vp)(),f=(0,ne.Rb)(),v=(0,x.useRouter)(),N=p.useCallback(function(){v.push("/")},[v]);return(0,c.jsxs)("div",{className:_()(i,na().container),children:[s&&l&&(0,c.jsxs)(g.Z,{className:_()(na().contentErrorContainer),m:2,children:[(0,c.jsx)(j.Z,{className:_()(a,na().contentError),m:2,children:(0,nr.VK)(l)}),(0,c.jsx)(nt.Z,{className:na().actions,spacing:2,direction:"row",m:2,justifyContent:"center",children:(0,c.jsx)(h.Z,{className:"FixMuiButton",onClick:N,variant:"contained",children:(0,c.jsx)("span",{className:"Text",children:"Начать сначала"})})})]}),!r&&(0,c.jsx)("div",{className:na().contentContainer,children:(0,c.jsx)(n,(0,nn.Z)((0,U.Z)({},e),{error:l,isLoading:o,isWaiting:d,isStarted:m,isFailed:f}))}),(o||d)&&(0,c.jsx)(u.uY,{className:na().smallLoader,spinnerSize:"medium",show:!0}),(0,c.jsx)(u.uY,{className:na().loaderSplash,show:r,spinnerSize:"large",bg:"white",mode:"cover",fullSize:!0})]})}}))(function(n){var e=n.className,r=(0,f.oR)(),t=(0,k.TL)(),i=(0,x.useRouter)(),a=(0,k.u9)(),o=(0,k.gC)(),s=(0,k.aR)(),l=(0,k.YH)(),u=(0,k.me)(),d=(0,k.Vp)(),h=(0,k.Rb)(),j=!!o&&!!a,v=p.useCallback(function(){i.push("/")},[i]);p.useEffect(function(){j&&a&&o&&(0,X.Wh)(r)},[a,j,o,r]),p.useEffect(function(){j||N.Z.build.isDev||v()},[v,j,l,a,o,s]);var C=p.useCallback(function(){t(Z.Nw.setGameMode("single"))},[t]),w=(0,m.Z)(p.useState(!1),2),S=w[0],W=w[1],b=p.useCallback(function(){(0,k.Io)(),W(!0)},[]),B=p.useMemo(function(){return j?d?(0,c.jsx)(Q,{}):h?(0,c.jsx)(K,{onSingleClick:C,goToStartPage:v}):S?(0,c.jsx)(q,{goToStartPage:v}):u?"multi"===s?(0,c.jsx)(H,{cancelWaiting:b,isWaiting:u}):(0,c.jsx)(A,{cancelWaiting:b,isWaiting:u}):null:null},[b,s,v,C,h,j,d,u,S]);return(0,c.jsx)(g.Z,{className:_()(e,D().container),my:2,children:B})}),nl=function(){var n=(0,d.d)("Старт игры");return(0,c.jsx)(l.Z,{title:n,children:(0,c.jsx)(u.ip,{flex:!0,flexVertical:!0,fullSizeFlexChild:!0,flexCenter:!0,children:(0,c.jsx)(nc,{})})})}},2171:function(n,e,r){"use strict";function t(n){return[n.message].filter(Boolean).join(": ").replace(/^Error:\s*/,"")}r.d(e,{VK:function(){return t}}),r(5158)},7506:function(n){n.exports={container:"WaitingBlock_container__kQnxn",error:"WaitingBlock_error__3zIyV",actions:"WaitingBlock_actions__8OFMX"}},3611:function(n){n.exports={error:"WrappedWaitingBlock_error__M20nw",wrapper:"WrappedWaitingBlock_wrapper__2tBuN"}},542:function(n){n.exports={container:"GameSessionWrapper_container__aDk9O",contentError:"GameSessionWrapper_contentError__ATjRz",contentContainer:"GameSessionWrapper_contentContainer__9ZWe_",smallLoader:"GameSessionWrapper_smallLoader__MetXT",loaderSplash:"GameSessionWrapper_loaderSplash__61cgZ"}}},function(n){n.O(0,[330,12,390,774,888,179],function(){return n(n.s=2329)}),_N_E=n.O()}]);
//# sourceMappingURL=waiting-ca8b73f18b28a13b.js.map